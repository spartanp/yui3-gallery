YUI.add("gallery-plugin-collapse",function(A){var B;B=function(C){B.superclass.constructor.apply(this,arguments);};A.extend(B,A.Plugin.Base,{_anim:null,_maxWidth:0,_maxHeight:0,initializer:function(){var D=this.get("host"),C={};this._maxWidth=D.get("offsetWidth");this._maxHeight=D.get("offsetHeight");if(this.get("state")==="closed"){C.overflow=this.get("endOverflow");if(!this.get("lockWidth")){C.width=0;}else{C.width=this._maxWidth;}if(!this.get("lockHeight")){C.height=0;}else{C.height=this._maxHeight;}D.setStyles(C);}},open:function(){try{if(this._anim.get("running")){this._anim.stop(false);}}catch(D){}var E={},C=this._getBaseConfig();if(!this.get("lockWidth")){E.width=this._maxWidth;}if(!this.get("lockHeight")){E.height=this._maxHeight;}C.to=E;this._anim=new A.Anim(C);this._anim.run();},close:function(){try{if(this._anim.get("running")){this._anim.stop(false);}}catch(D){}var E={},C=this._getBaseConfig();if(!this.get("lockWidth")){E.width=0;}else{E.width=this._maxWidth;}if(!this.get("lockHeight")){E.height=0;}else{E.height=this._maxHeight;}C.to=E;this._anim=new A.Anim(C);this._anim.run();},refresh:function(){var F={},E=this.get("host"),C=this.get("lockWidth"),D=this.get("lockHeight");F.height=E.getStyle("height");F.width=E.getStyle("width");F.overflow=E.getStyle("overflow");F.opactiy=E.getStyle("opacity");F.visibility=E.getStyle("visibility");E.setStyles({"overflow":"auto","opacity":1,"visibility":"visible"});if(!C){E.setStyle("width","auto");}if(!D){E.setStyle("height","auto");this._maxHeight=E.get("offsetHeight");}if(!C){this._maxWidth=E.get("offsetWidth");}E.setStyles(F);},_getBaseConfig:function(){return{node:this.get("host"),easing:this.get("easing"),duration:this.get("duration"),on:{start:function(C){C.currentTarget.get("node").setStyle("overflow","hidden");},end:function(C){C.currentTarget.get("node").setStyle("overflow",this.get("endOverflow"));}}};}},{NAME:"collapse",NS:"collapse",ATTRS:{lockWidth:{value:true},lockHeight:{value:false},state:{value:"opened"},easing:{value:A.Easing.easeOutStrong},duration:{value:0.5},endOverflow:{value:"hidden"}}});A.namespace("Plugin").Collapse=B;},"gallery-2010.06.30-19-54",{requires:["plugin","node","anim"]});