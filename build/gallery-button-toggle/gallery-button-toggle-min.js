YUI.add("gallery-button-toggle",function(C){var B=C.Lang,A="deselectedCallback";C.ButtonToggle=C.Base.create("button",C.Button,[],{initializer:function(D){this.after("selectedChange",this._selectedChanged,this);},_bindClick:function(){this.get("boundingBox").after("click",function(F){var E=null;if(!this.isRoot()){var E=this.get("parent"),D=E.get("selection");if(E instanceof C.ButtonGroup&&E.get("alwaysSelected")&&this.get("selected")===1&&(D===this||(D instanceof C.ArrayList&&D.size()===1&&D.item(0)===this))){return;}}this.set("selected",(this.get("selected")===0)?1:0);},this);},_selectedChanged:function(D){if(D.newVal){if(this.get("callback")){(C.bind(this.get("callback"),this))();}}else{if(this.get(A)){(C.bind(this.get(A),this))();}}}},{ATTRS:{deselectedCallback:{validator:B.isFunction}}});},"gallery-2010.06.30-19-54",{requires:["gallery-button"]});