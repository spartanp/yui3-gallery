YUI.add("gallery-simple-datatable",function(D){var B="asc",C="desc",A="sortDirection";D.SimpleDatatable=D.Base.create("simple-datatable",D.Widget,[],{CONTENT_TEMPLATE:"<table>",className:"",tHead:null,tBody:null,initializer:function(E){this.className=this.getClassName();},renderUI:function(){this.tHead=D.Node.create("<thead/>");this.tBody=D.Node.create("<tbody/>");this.get("contentBox").append(this.tHead).append(this.tBody);},bindUI:function(){var E=this.className+"-over";this.after("sortDirectionChange",this._updateSortClass);this.after("selectedRowChange",this._updateSelectedRow);this.tHead.delegate("click",function(G){var F=this.className+"-"+this.get(A);this.tHead.all("."+F).removeClass(F);G.currentTarget.addClass(F);this.sortRowsByKey(G.currentTarget.getAttribute("sortKey"));},"th",this);this.tBody.delegate("mouseenter",function(F){F.currentTarget.addClass(E);},"tr");this.tBody.delegate("mouseleave",function(F){F.currentTarget.removeClass(E);},"tr");this.tBody.delegate("click",function(F){this.set("selectedRow",F.currentTarget);},"tr",this);},syncUI:function(){var F=this.get("headers"),E=this.get("rows");if(F){this.setHeaders(F);}if(E){this.setRows(E);}},setHeaders:function(G){var I,E,H,F=0;I=D.Node.create("<tr>");for(H in G){E=D.Node.create("<th>");E.addClass(this.className+"-col-"+(F++));E.addClass(this.className+"-col-"+H);E.append("<div>"+G[H]+"</div>");E.setAttribute("sortKey",H);I.append(E);}this.tHead.setContent("");this.tHead.setContent(I);},setRows:function(F){var G,E=0;this.tBody.setContent("");for(G in F){this.addRow(F[G],E++);}},addRow:function(I,G){var L=this.get("headers")||{},K,F,J,H=0,E="__yui_id";K=D.Node.create("<tr>");for(J in I){if(J.substring(0,2)==="__"){K.setAttribute(J.substring(2),I[J]);continue;}if(!L[J]){continue;}F=D.Node.create("<td>");F.addClass(this.className+"-col-"+H++);F.addClass(this.className+"-col-"+J);if(I[J]){F.append("<div>"+I[J]+"</div>");}else{F.append("<div/>");}K.append(F);}if(!I[E]){I[E]=D.Event.generateId(K);}K.set("id",I[E]);K.addClass(this.className+"-"+((G%2)?"even":"odd"));this.tBody.append(K);},toggleSort:function(){var E=this.get(A),F=E===B?C:B;this.set(A,F);},sortRowsByKey:function(E){var F=this.get("rows"),G;if(E===this.get("sortKey")){this.toggleSort();}else{this.set("sortKey",E);this.set(A,B);}G=this.get(A);F.sort(function(I,H){var I=I[E],H=H[E];if(D.Lang.isString(I[E])){I=I[E].toLowerCase();H=H[E].toLowerCase();}if(I==H){return 0;}if(I>H){return(G===B)?1:-1;}return(G===C)?1:-1;});this.setRows(F);this.set("rows",F);this.updateSelectedRow(this.get("selectedRow"));},updateSelectedRow:function(F,E){var G=this.className+"-selected";if(E){this.tBody.one("#"+E.get("id")).removeClass(G);}if(F){this.tBody.one("#"+F.get("id")).addClass(G);}},_updateSelectedRow:function(E){if(E.newVal===E.prevVal){return;}this.updateSelectedRow(E.newVal,E.prevVal);},_updateSortClass:function(G){var E=this.className+"-"+G.prevVal,F=this.className+"-"+G.newVal;this.tHead.all("."+E).replaceClass(E,F);}},{ATTRS:{headers:{},rows:{},selectedRow:{},sortKey:{},sortDirection:{value:B,setter:function(E){E=E===C?C:B;return E;}}}});},"gallery-2010.06.30-19-54",{requires:["node","widget","event","event-mouseenter"]});